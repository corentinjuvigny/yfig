/*======================================================================
 *  Copyright 2017 Ivan Aug√©
 *
 *  This file is part of the YFIG software.
 * 
 *  YFIG is free  software;  you  can redistribute it and/or modify it
 *  under the terms of the GNU  General Public License as published by
 *  the  Free Software Foundation; either version 3 of the License, or
 *  (at your option) any later version.
 * 
 *  YFIG software is distributed  in the  hope that it will be useful,
 *  but WITHOUT ANY WARRANTY;  without even the  implied  warranty  of
 *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See  the GNU
 *  General Public License for more details.
 * 
 *  You should have received  a copy of the GNU General Public License
 *  along with YFIG. If not, see <http://www.gnu.org/licenses/>.
**======================================================================
 * $Software: YFIG-TOOL (utilities shared by the different modules)
 *      $Id: bitmap-pattBtms.c 97 2017-11-11 17:20:19Z ia $
 * $HeadURL: http://lunix120.ensiie.fr/yfig/trunk/tools/bitmap-pattBtms.c $
 *  $Author: Ivan Auge (Email: auge@ensiie.fr)
**======================================================================*/

/*======================================================================*/
/*= See the bitmap-types.h and bitmap.h headers for documentation.     =*/
/*======================================================================*/

#include "tools-config.h"
#include "tools/bitmap.h"

/*======================================================================*/
#define BYTESIZE(n) BTM_ByteSize(n##_width,n##_height)

/* 30 degrees left diagonal */
#define left30_width 8
#define left30_height 4
static Trawdata left30_bits = { -1 , BYTESIZE(left30), {
    0x03, 0x0c, 0x30, 0xc0
} };
/* 30 degrees right diagonal */
#define right30_width 8
#define right30_height 4
static Trawdata right30_bits = { -1 , BYTESIZE(right30), {
   0xc0, 0x30, 0x0c, 0x03
} };
/* 30 degrees crosshatch */
#define crosshatch30_width 8
#define crosshatch30_height 4
static Trawdata crosshatch30_bits = { -1 , BYTESIZE(crosshatch30), {
   0x81, 0x66, 0x18, 0x66
} };
/* 45 degrees left diagonal */
#define left45_width 8
#define left45_height 8
static Trawdata left45_bits = { -1 , BYTESIZE(left45), {
   0x01, 0x02, 0x04, 0x08, 0x10, 0x20, 0x40, 0x80
} };
/* 45 degrees right diagonal */
#define right45_width 8
#define right45_height 8
static Trawdata right45_bits = { -1 , BYTESIZE(right45), {
   0x80, 0x40, 0x20, 0x10, 0x08, 0x04, 0x02, 0x01
} };
/* 45 degrees crosshatch */
#define crosshatch45_width 8
#define crosshatch45_height 8
static Trawdata crosshatch45_bits = { -1 , BYTESIZE(crosshatch45), {
   0x11, 0x0a, 0x04, 0x0a, 0x11, 0xa0, 0x40, 0xa0
} };
/* horizontal bricks */
#define bricks_width 16
#define bricks_height 16
static Trawdata bricks_bits = { -1 , BYTESIZE(bricks), {
   0x00, 0x80, 0x00, 0x80, 0x00, 0x80, 0x00, 0x80, 0x00, 0x80, 0x00, 0x80,
   0x00, 0x80, 0xff, 0xff, 0x80, 0x00, 0x80, 0x00, 0x80, 0x00, 0x80, 0x00,
   0x80, 0x00, 0x80, 0x00, 0x80, 0x00, 0xff, 0xff
} };
/* vertical bricks */
#define vert_bricks_width 16
#define vert_bricks_height 16
static Trawdata vert_bricks_bits = { -1 , BYTESIZE(vert_bricks), {
   0xff, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
   0x80, 0x80, 0x80, 0x80, 0x80, 0xff, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
   0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80
} };
/* horizontal lines */
#define horizontal_width 8
#define horizontal_height 4
static Trawdata horizontal_bits = { -1 , BYTESIZE(horizontal), {
   0xff, 0x00, 0x00, 0x00
} };
/* vertical lines */
#define vertical_width 8
#define vertical_height 8
static Trawdata vertical_bits = { -1 , BYTESIZE(vertical), {
   0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88, 0x88
} };
/* crosshatch */
#define crosshatch_width 8
#define crosshatch_height 4
static Trawdata crosshatch_bits = { -1 , BYTESIZE(crosshatch), {
   0xff, 0x88, 0x88, 0x88
} };
/* left-pointing shingles */
#define leftshingle_width 24
#define leftshingle_height 24
static Trawdata leftshingle_bits = { -1 , BYTESIZE(leftshingle), {
   0x00, 0x00, 0x80, 0x00, 0x00, 0x80, 0x00, 0x00, 0x40, 0x00, 0x00, 0x40,
   0x00, 0x00, 0x20, 0x00, 0x00, 0x20, 0x00, 0x00, 0x10, 0xff, 0xff, 0xff,
   0x80, 0x00, 0x00, 0x80, 0x00, 0x00, 0x40, 0x00, 0x00, 0x40, 0x00, 0x00,
   0x20, 0x00, 0x00, 0x20, 0x00, 0x00, 0x10, 0x00, 0x00, 0xff, 0xff, 0xff,
   0x00, 0x80, 0x00, 0x00, 0x80, 0x00, 0x00, 0x40, 0x00, 0x00, 0x40, 0x00,
   0x00, 0x20, 0x00, 0x00, 0x20, 0x00, 0x00, 0x10, 0x00, 0xff, 0xff, 0xff
} };
/* right-pointing shingles */
#define rightshingle_width 24
#define rightshingle_height 24
static Trawdata rightshingle_bits = { -1 , BYTESIZE(rightshingle), {
   0x00, 0x00, 0x10, 0x00, 0x00, 0x10, 0x00, 0x00, 0x20, 0x00, 0x00, 0x20,
   0x00, 0x00, 0x40, 0x00, 0x00, 0x40, 0x00, 0x00, 0x80, 0xff, 0xff, 0xff,
   0x00, 0x10, 0x00, 0x00, 0x10, 0x00, 0x00, 0x20, 0x00, 0x00, 0x20, 0x00,
   0x00, 0x40, 0x00, 0x00, 0x40, 0x00, 0x00, 0x80, 0x00, 0xff, 0xff, 0xff,
   0x10, 0x00, 0x00, 0x10, 0x00, 0x00, 0x20, 0x00, 0x00, 0x20, 0x00, 0x00,
   0x40, 0x00, 0x00, 0x40, 0x00, 0x00, 0x80, 0x00, 0x00, 0xff, 0xff, 0xff
} };
/* vertical left-pointing shingles */
#define vert_leftshingle_width 24
#define vert_leftshingle_height 24
static Trawdata vert_leftshingle_bits = { -1 , BYTESIZE(vert_leftshingle), {
   0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
   0x80, 0x80, 0x81, 0x80, 0x80, 0x86, 0x80, 0x80, 0x98, 0x80, 0x80, 0xe0,
   0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
   0x80, 0x81, 0x80, 0x80, 0x86, 0x80, 0x80, 0x98, 0x80, 0x80, 0xe0, 0x80,
   0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
   0x81, 0x80, 0x80, 0x86, 0x80, 0x80, 0x98, 0x80, 0x80, 0xe0, 0x80, 0x80
} };
/* vertical right-pointing shingles */
#define vert_rightshingle_width 24
#define vert_rightshingle_height 24
static Trawdata vert_rightshingle_bits = { -1 , BYTESIZE(vert_rightshingle), {
   0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
   0x80, 0xc0, 0x80, 0x80, 0xb0, 0x80, 0x80, 0x8c, 0x80, 0x80, 0x83, 0x80,
   0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
   0x80, 0x80, 0xc0, 0x80, 0x80, 0xb0, 0x80, 0x80, 0x8c, 0x80, 0x80, 0x83,
   0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80, 0x80,
   0xc0, 0x80, 0x80, 0xb0, 0x80, 0x80, 0x8c, 0x80, 0x80, 0x83, 0x80, 0x80
} };
/* fish scales */
#define fishscales_width 16
#define fishscales_height 8
static Trawdata fishscales_bits = { -1 , BYTESIZE(fishscales), {
   0x40, 0x02, 0x30, 0x0c, 0x0e, 0x70, 0x01, 0x80, 0x02, 0x40, 0x0c, 0x30,
   0x70, 0x0e, 0x80, 0x01
} };
/* small fish scales */
#define small_fishscales_width 8
#define small_fishscales_height 8
static Trawdata small_fishscales_bits = { -1 , BYTESIZE(small_fishscales), {
   0x01, 0x01, 0x82, 0x6c, 0x10, 0x10, 0x28, 0xc6
} };
/* circles */
#define circles_width 16
#define circles_height 16
static Trawdata circles_bits = { -1 , BYTESIZE(circles), {
   0xe0, 0x0f, 0x18, 0x30, 0x04, 0x40, 0x02, 0x80, 0x02, 0x80, 0x01, 0x00,
   0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00,
   0x02, 0x80, 0x02, 0x80, 0x04, 0x40, 0x18, 0x30
} };
/* hexagons */
#define hexagons_width 30
#define hexagons_height 18
static Trawdata hexagons_bits = { -1 , BYTESIZE(hexagons), {
   0x08, 0x80, 0x00, 0x00, 0x08, 0x80, 0x00, 0x00, 0x04, 0x00, 0x01, 0x00,
   0x04, 0x00, 0x01, 0x00, 0x02, 0x00, 0x02, 0x00, 0x02, 0x00, 0x02, 0x00,
   0x01, 0x00, 0x04, 0x00, 0x01, 0x00, 0x04, 0x00, 0x00, 0x00, 0xf8, 0x3f,
   0x01, 0x00, 0x04, 0x00, 0x01, 0x00, 0x04, 0x00, 0x02, 0x00, 0x02, 0x00,
   0x02, 0x00, 0x02, 0x00, 0x04, 0x00, 0x01, 0x00, 0x04, 0x00, 0x01, 0x00,
   0x08, 0x80, 0x00, 0x00, 0x08, 0x80, 0x00, 0x00, 0xf0, 0x7f, 0x00, 0x00
} };
/* octagons */
#define octagons_width 16
#define octagons_height 16
static Trawdata octagons_bits = { -1 , BYTESIZE(octagons), {
   0xe0, 0x0f, 0x10, 0x10, 0x08, 0x20, 0x04, 0x40, 0x02, 0x80, 0x01, 0x00,
   0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00, 0x01, 0x00,
   0x02, 0x80, 0x04, 0x40, 0x08, 0x20, 0x10, 0x10
} };
/* horizontal sawtooth */
#define horiz_saw_width 16
#define horiz_saw_height 8
static Trawdata horiz_saw_bits = { -1 , BYTESIZE(horiz_saw), {
   0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x08, 0x08, 0x14, 0x14, 0x22, 0x22,
   0x41, 0x41, 0x80, 0x80
} };
/* vertical sawtooth */
#define vert_saw_width 8
#define vert_saw_height 16
static Trawdata vert_saw_bits = { -1 , BYTESIZE(vert_saw), {
   0x02, 0x04, 0x08, 0x10, 0x08, 0x04, 0x02, 0x01, 0x02, 0x04, 0x08, 0x10,
   0x08, 0x04, 0x02, 0x01
} };

/*======================================================================*/

#define TABLE_ENTRY(n) { n##_width,  n##_height,  &n##_bits, -1}

const Tbitmap btm_fill_pattern_t[] = {
    TABLE_ENTRY(left30),
    TABLE_ENTRY(right30),
    TABLE_ENTRY(crosshatch30),
    TABLE_ENTRY(left45),
    TABLE_ENTRY(right45),
    TABLE_ENTRY(crosshatch45),
    TABLE_ENTRY(bricks),
    TABLE_ENTRY(vert_bricks),
    TABLE_ENTRY(horizontal),
    TABLE_ENTRY(vertical),
    TABLE_ENTRY(crosshatch),
    TABLE_ENTRY(leftshingle),
    TABLE_ENTRY(rightshingle),
    TABLE_ENTRY(vert_leftshingle),
    TABLE_ENTRY(vert_rightshingle),
    TABLE_ENTRY(fishscales),
    TABLE_ENTRY(small_fishscales),
    TABLE_ENTRY(circles),
    TABLE_ENTRY(hexagons),
    TABLE_ENTRY(octagons),
    TABLE_ENTRY(horiz_saw),
    TABLE_ENTRY(vert_saw),
};

const int btm_fill_pattern_n = TOOL_TABLE_NbEle( btm_fill_pattern_t );

/*======================================================================*/

extern TbitmapSet*    btm_defaultFillPattern()
{
    int i;
    TbitmapSet* btms = btmset_new(btm_fill_pattern_n);
    for (i=0 ; i<btm_fill_pattern_n ; i +=1) {
        btmset_addLazy(btms,(Tbitmap*)btm_fill_pattern_t+i);
    }
    return btms;
}

/*======================================================================*/
